!function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){var n=e(1),s=e(3);n.init(),s.initRain(),s.getContent()},function(t,i,e){"use strict";function n(){s(),o(),document.querySelector(".contents-link").onclick=function(){a(),setTimeout(function(){c("page-contents")},450)},document.querySelector(".aboutme-link").onclick=function(){a(),setTimeout(function(){c("page-aboutme")},450)}}function s(){for(var t=l(),i=0;i<v;++i){var e=y[i],n=t.indexOf(i);x!==i?(p.add(e,"page--inactive"),n!==-1?(e.style.WebkitTransform="translate3d(0,100%,0)",e.style.transform="translate3d(0,100%,0)"):(e.style.WebkitTransform="translate3d(0,75%,-300px)",e.style.transform="translate3d(0,75%,-300px)")):p.remove(e,"page--inactive"),e.style.zIndex=i<x?parseInt(x-i):parseInt(v+x-i),n!==-1?e.style.opacity=parseFloat(1-.1*n):e.style.opacity=0}}function o(){w.addEventListener("click",r),T.forEach(function(t){var i=t.getAttribute("href").slice(1);t.addEventListener("click",function(t){t.preventDefault(),c(i)})}),y.forEach(function(t){var i=t.getAttribute("id");t.addEventListener("click",function(t){A&&(t.preventDefault(),c(i))})}),document.addEventListener("keydown",function(t){if(A){var i=t.keyCode||t.which;27===i&&h()}})}function r(){A?h():(a(),A=!0)}function a(){p.add(w,"menu-button--open"),p.add(m,"pages-stack--open"),p.add(R,"pages-nav--open");for(var t=l(),i=0,e=t.length;i<e;++i){var n=y[t[i]];n.style.WebkitTransform="translate3d(0, 75%, "+parseInt(-200-50*i)+"px)",n.style.transform="translate3d(0, 75%, "+parseInt(-200-50*i)+"px)"}}function h(){c()}function c(t){var i=t?document.getElementById(t):y[x],e=y.indexOf(i),n=l(e);i.style.WebkitTransform="translate3d(0, 0, 0)",i.style.transform="translate3d(0, 0, 0)",i.style.opacity=1;for(var o=0,r=n.length;o<r;++o){var a=y[n[o]];a.style.WebkitTransform="translate3d(0,100%,0)",a.style.transform="translate3d(0,100%,0)"}t&&(x=e),p.remove(w,"menu-button--open"),p.remove(R,"pages-nav--open"),g(i,function(){p.remove(m,"pages-stack--open"),s(),A=!1})}function l(t){var i=x+1<v?x+1:0,e=x+2<v?x+2:1,n=[];return t!=x&&n.push(x),t!=i&&n.push(i),t!=e&&n.push(e),n}var p=e(2),d={transitions:Modernizr.csstransitions},u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},f=u[Modernizr.prefixed("transition")],g=function(t,i){var e=function(t){if(d.transitions){if(t.target!=this)return;this.removeEventListener(f,e)}i&&"function"==typeof i&&i.call(this)};d.transitions?t.addEventListener(f,e):e()},m=document.querySelector(".pages-stack"),y=[].slice.call(m.children),v=y.length,x=0,w=document.querySelector("button.menu-button"),R=document.querySelector(".pages-nav"),T=[].slice.call(R.querySelectorAll(".link--page")),A=!1;n(),t.exports={init:n}},function(t,i,e){var n,s;/*!
	 * classie v1.0.1
	 * class helper functions
	 * from bonzo https://github.com/ded/bonzo
	 * MIT license
	 * 
	 * classie.has( elem, 'my-class' ) -> true/false
	 * classie.add( elem, 'my-new-class' )
	 * classie.remove( elem, 'my-unwanted-class' )
	 * classie.toggle( elem, 'my-class' )
	 */
!function(o){"use strict";function r(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function a(t,i){var e=h(t,i)?l:c;e(t,i)}var h,c,l;"classList"in document.documentElement?(h=function(t,i){return t.classList.contains(i)},c=function(t,i){t.classList.add(i)},l=function(t,i){t.classList.remove(i)}):(h=function(t,i){return r(i).test(t.className)},c=function(t,i){h(t,i)||(t.className=t.className+" "+i)},l=function(t,i){t.className=t.className.replace(r(i)," ")});var p={hasClass:h,addClass:c,removeClass:l,toggleClass:a,has:h,add:c,remove:l,toggle:a};n=p,s="function"==typeof n?n.call(i,e,i,t):n,!(void 0!==s&&(t.exports=s))}(window)},function(t,i,e){function n(){var t;if(window.XMLHttpRequest)t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType("text/xml");else if(window.ActiveXObject)for(var i=["MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<i.length;e++)try{if(t=new ActiveXObject(i[e]))break}catch(n){}return t}function s(t,i){var e=n();e&&(e.open("GET",t,!0),e.setRequestHeader("Content-Type","text/html;charset:utf-8;"),e.setRequestHeader("Accept","text/html,application/xml,application/json"),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status)switch(document.querySelector("#page-contents").innerHTML=e.responseText,i){case"content":for(var t=document.querySelectorAll(".content li a:nth-of-type(1)"),n=0;n<t.length;n++)t[n].onclick=function(){h(this.getAttribute("data-url"))};break;case"article":document.querySelector(".backicon i").onclick=function(){a()}}else console.log("error")},e.send(null))}function o(){var t=document.querySelector("#page-home"),i=!1,e=document.getElementById("background");e.onload=function(){var e=new r({image:this,parentElement:document.querySelector("#page-home")});e.trail=e.TRAIL_SMUDGE,e.rain([[4,6,.5]],33);var n=document.getElementsByTagName("canvas")[0];n.style.transition="all 0.5s ease-out";var s=500,o=0,a=0,h=0,c=0,l=0;t.onmousemove=function(t){if(!i){if(window.innerHeight!=c||window.innerWidth!=l){c=window.innerHeight,l=window.innerWidth;var e=document.defaultView.getComputedStyle(n,null).height,r=document.defaultView.getComputedStyle(n,null).width;a=Number.parseInt(e.slice(0,e.length-1)),h=Number.parseInt(r.slice(0,r.length-1)),o=a-c}i=!0,n.style.left=t.clientX/l*-s+"px",n.style.top=t.clientY/c*-o+"px",setTimeout(function(){i=!1},200)}}},e.crossOrigin="anonymous",e.src="images/bg.jpg"}var r=e(4).RainyDay;console.log(r);var a=function(){s("content.html","content")},h=function(t){console.log("get article:"+t),s(t,"article")};t.exports={getContent:a,getArticle:h,initRain:o}},function(t,i){function e(t,i){if(this===window)return new e(t,i);this.img=t.image;var n={opacity:1,blur:10,crop:[0,0,this.img.naturalWidth,this.img.naturalHeight],enableSizeChange:!0,parentElement:document.getElementsByTagName("body")[0],fps:30,fillStyle:"#8ED6FF",enableCollisions:!0,gravityThreshold:3,gravityAngle:Math.PI/2,gravityAngleVariance:0,reflectionScaledownFactor:5,reflectionDropMappingWidth:200,reflectionDropMappingHeight:200,width:this.img.clientWidth,height:this.img.clientHeight,position:"absolute",top:0,left:0};for(var s in n)"undefined"==typeof t[s]&&(t[s]=n[s]);this.options=t,this.drops=[],this.canvas=i||this.prepareCanvas(),this.prepareBackground(),this.prepareGlass(),this.reflection=this.REFLECTION_MINIATURE,this.trail=this.TRAIL_DROPS,this.gravity=this.GRAVITY_NON_LINEAR,this.collision=this.COLLISION_SIMPLE,this.setRequestAnimFrame()}function n(t,i,e,n,s){this.x=Math.floor(i),this.y=Math.floor(e),this.r=Math.random()*s+n,this.rainyday=t,this.context=t.context,this.reflection=t.reflected}function s(){this.r=0,this.g=0,this.b=0,this.next=null}function o(t,i,e){this.resolution=e,this.xc=t,this.yc=i,this.matrix=new Array(t);for(var n=0;n<=t+5;n++){this.matrix[n]=new Array(i);for(var s=0;s<=i+5;++s)this.matrix[n][s]=new r(null)}}function r(t){this.drop=t,this.next=null}e.prototype.prepareCanvas=function(){var t=document.createElement("canvas");return t.style.position=this.options.position,t.style.top=this.options.top,t.style.left=this.options.left,t.width=this.options.width,t.height=this.options.height,this.options.parentElement.appendChild(t),this.options.enableSizeChange&&this.setResizeHandler(),t},e.prototype.setResizeHandler=function(){null!==window.onresize?window.setInterval(this.checkSize.bind(this),100):(window.onresize=this.checkSize.bind(this),window.onorientationchange=this.checkSize.bind(this))},e.prototype.checkSize=function(){var t=this.img.clientWidth,i=this.img.clientHeight,e=this.img.offsetLeft,n=this.img.offsetTop,s=this.canvas.width,o=this.canvas.height,r=this.canvas.offsetLeft,a=this.canvas.offsetTop;s===t&&o===i||(this.canvas.width=t,this.canvas.height=i,this.prepareBackground(),this.glass.width=this.canvas.width,this.glass.height=this.canvas.height,this.prepareReflections()),r===e&&a===n||(this.canvas.offsetLeft=e,this.canvas.offsetTop=n)},e.prototype.animateDrops=function(){this.addDropCallback&&this.addDropCallback();for(var t=this.drops.slice(),i=[],e=0;e<t.length;++e)t[e].animate()&&i.push(t[e]);this.drops=i,window.requestAnimFrame(this.animateDrops.bind(this))},e.prototype.setRequestAnimFrame=function(){var t=this.options.fps;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(i){window.setTimeout(i,1e3/t)}}()},e.prototype.prepareReflections=function(){this.reflected=document.createElement("canvas"),this.reflected.width=this.canvas.width/this.options.reflectionScaledownFactor,this.reflected.height=this.canvas.height/this.options.reflectionScaledownFactor;var t=this.reflected.getContext("2d");t.drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.reflected.width,this.reflected.height)},e.prototype.prepareGlass=function(){this.glass=document.createElement("canvas"),this.glass.width=this.canvas.width,this.glass.height=this.canvas.height,this.context=this.glass.getContext("2d")},e.prototype.rain=function(t,i){if(this.reflection!==this.REFLECTION_NONE&&this.prepareReflections(),this.animateDrops(),this.presets=t,this.PRIVATE_GRAVITY_FORCE_FACTOR_Y=.001*this.options.fps/25,this.PRIVATE_GRAVITY_FORCE_FACTOR_X=(Math.PI/2-this.options.gravityAngle)*(.001*this.options.fps)/50,this.options.enableCollisions){for(var e=0,s=0;s<t.length;s++)t[s][0]+t[s][1]>e&&(e=Math.floor(t[s][0]+t[s][1]));if(e>0){var r=Math.ceil(this.canvas.width/e),a=Math.ceil(this.canvas.height/e);this.matrix=new o(r,a,e)}else this.options.enableCollisions=!1}for(var s=0;s<t.length;s++)t[s][3]||(t[s][3]=-1);var h=0;this.addDropCallback=function(){var e=(new Date).getTime();if(!(e-h<i)){h=e;var s=this.canvas.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height),s.drawImage(this.background,0,0,this.canvas.width,this.canvas.height);for(var o,r=0;r<t.length;r++)if(t[r][2]>1||t[r][3]===-1){if(0!==t[r][3]){t[r][3]--;for(var a=0;a<t[r][2];++a)this.putDrop(new n(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,t[r][0],t[r][1]))}}else if(Math.random()<t[r][2]){o=t[r];break}o&&this.putDrop(new n(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,o[0],o[1])),s.save(),s.globalAlpha=this.options.opacity,s.drawImage(this.glass,0,0,this.canvas.width,this.canvas.height),s.restore()}}.bind(this)},e.prototype.putDrop=function(t){t.draw(),this.gravity&&t.r>this.options.gravityThreshold&&(this.options.enableCollisions&&this.matrix.update(t),this.drops.push(t))},e.prototype.clearDrop=function(t,i){var e=t.clear(i);if(e){var n=this.drops.indexOf(t);n>=0&&this.drops.splice(n,1)}return e},n.prototype.draw=function(){this.context.save(),this.context.beginPath();var t=this.r;if(this.r=.95*this.r,this.r<3)this.context.arc(this.x,this.y,this.r,0,2*Math.PI,!0),this.context.closePath();else if(this.colliding||this.yspeed>2){if(this.colliding){var i=this.colliding;this.r=1.001*(this.r>i.r?this.r:i.r),this.x+=i.x-this.x,this.colliding=null}var e=1+.1*this.yspeed;this.context.moveTo(this.x-this.r/e,this.y),this.context.bezierCurveTo(this.x-this.r,this.y-2*this.r,this.x+this.r,this.y-2*this.r,this.x+this.r/e,this.y),this.context.bezierCurveTo(this.x+this.r,this.y+e*this.r,this.x-this.r,this.y+e*this.r,this.x-this.r/e,this.y)}else this.context.arc(this.x,this.y,.9*this.r,0,2*Math.PI,!0),this.context.closePath();this.context.clip(),this.r=t,this.rainyday.reflection&&this.rainyday.reflection(this),this.context.restore()},n.prototype.clear=function(t){return this.context.clearRect(this.x-this.r-1,this.y-this.r-2,2*this.r+2,2*this.r+2),t?(this.terminate=!0,!0):this.y-this.r>this.rainyday.canvas.height||this.x-this.r>this.rainyday.canvas.width||this.x+this.r<0},n.prototype.animate=function(){if(this.terminate)return!1;var t=this.rainyday.gravity(this);if(!t&&this.rainyday.trail&&this.rainyday.trail(this),this.rainyday.options.enableCollisions){var i=this.rainyday.matrix.update(this,t);i&&this.rainyday.collision(this,i)}return!t||this.terminate},e.prototype.TRAIL_NONE=function(){},e.prototype.TRAIL_DROPS=function(t){(!t.trailY||t.y-t.trailY>=100*Math.random()*t.r)&&(t.trailY=t.y,this.putDrop(new n(this,t.x+(2*Math.random()-1)*Math.random(),t.y-t.r-5,Math.ceil(t.r/5),0)))},e.prototype.TRAIL_SMUDGE=function(t){var i=t.y-t.r-3,e=t.x-t.r/2+2*Math.random();i<0||e<0||this.context.drawImage(this.clearbackground,e,i,t.r,2,e,i,t.r,2)},e.prototype.GRAVITY_NONE=function(){return!0},e.prototype.GRAVITY_LINEAR=function(t){return!!this.clearDrop(t)||(t.yspeed?(t.yspeed+=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y*Math.floor(t.r),t.xspeed+=this.PRIVATE_GRAVITY_FORCE_FACTOR_X*Math.floor(t.r)):(t.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,t.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X),t.y+=t.yspeed,t.draw(),!1)},e.prototype.GRAVITY_NON_LINEAR=function(t){return!!this.clearDrop(t)||(t.collided?(t.collided=!1,t.seed=Math.floor(t.r*Math.random()*this.options.fps),t.skipping=!1,t.slowing=!1):(!t.seed||t.seed<0)&&(t.seed=Math.floor(t.r*Math.random()*this.options.fps),t.skipping=t.skipping===!1,t.slowing=!0),t.seed--,t.yspeed?t.slowing?(t.yspeed/=1.1,t.xspeed/=1.1,t.yspeed<this.PRIVATE_GRAVITY_FORCE_FACTOR_Y&&(t.slowing=!1)):t.skipping?(t.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,t.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X):(t.yspeed+=1*this.PRIVATE_GRAVITY_FORCE_FACTOR_Y*Math.floor(t.r),t.xspeed+=1*this.PRIVATE_GRAVITY_FORCE_FACTOR_X*Math.floor(t.r)):(t.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,t.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X),0!==this.options.gravityAngleVariance&&(t.xspeed+=(2*Math.random()-1)*t.yspeed*this.options.gravityAngleVariance),t.y+=t.yspeed,t.x+=t.xspeed,t.draw(),!1)},e.prototype.positiveMin=function(t,i){var e=0;return e=t<i?t<=0?i:t:i<=0?t:i,e<=0?1:e},e.prototype.REFLECTION_NONE=function(){this.context.fillStyle=this.options.fillStyle,this.context.fill()},e.prototype.REFLECTION_MINIATURE=function(t){var i=Math.max((t.x-this.options.reflectionDropMappingWidth)/this.options.reflectionScaledownFactor,0),e=Math.max((t.y-this.options.reflectionDropMappingHeight)/this.options.reflectionScaledownFactor,0),n=this.positiveMin(2*this.options.reflectionDropMappingWidth/this.options.reflectionScaledownFactor,this.reflected.width-i),s=this.positiveMin(2*this.options.reflectionDropMappingHeight/this.options.reflectionScaledownFactor,this.reflected.height-e),o=Math.max(t.x-1.1*t.r,0),r=Math.max(t.y-1.1*t.r,0);this.context.drawImage(this.reflected,i,e,n,s,o,r,2*t.r,2*t.r)},e.prototype.COLLISION_SIMPLE=function(t,i){for(var e,n=i;null!=n;){var s=n.drop,o=t.r+s.r,r=t.x-s.x,a=t.y-s.y;if(Math.abs(r)<o&&Math.abs(a)<o&&Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))<t.r+s.r){e=s;break}n=n.next}if(e){var h,c;t.y>e.y?(h=t,c=e):(h=e,c=t),this.clearDrop(c),this.clearDrop(h,!0),this.matrix.remove(h),c.draw(),c.colliding=h,c.collided=!0}},e.prototype.prepareBackground=function(){this.background=document.createElement("canvas"),this.background.width=this.canvas.width,this.background.height=this.canvas.height,this.clearbackground=document.createElement("canvas"),this.clearbackground.width=this.canvas.width,this.clearbackground.height=this.canvas.height;var t=this.background.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),t.drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.canvas.width,this.canvas.height),t=this.clearbackground.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.canvas.width,this.canvas.height),!isNaN(this.options.blur)&&this.options.blur>=1&&this.stackBlurCanvasRGB(this.canvas.width,this.canvas.height,this.options.blur)},e.prototype.stackBlurCanvasRGB=function(t,i,e){var n=[[0,9],[1,11],[2,12],[3,13],[5,14],[7,15],[11,16],[15,17],[22,18],[31,19],[45,20],[63,21],[90,22],[127,23],[181,24]],o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];e|=0;var r,a,h,c,l,p,d,u,f,g,m,y,v,x,w,R,T,A,b,I,E=this.background.getContext("2d"),M=E.getImageData(0,0,t,i),_=M.data,C=e+1,k=C*(C+1)/2,O=new s,F=new s,S=O;for(h=1;h<2*e+1;h++)S=S.next=new s,h===C&&(F=S);S.next=O;var L=null,V=null;d=p=0;for(var N,D=o[e],Y=0;Y<n.length;++Y)if(e<=n[Y][0]){N=n[Y-1][1];break}for(a=0;a<i;a++){for(x=w=R=u=f=g=0,m=C*(T=_[p]),y=C*(A=_[p+1]),v=C*(b=_[p+2]),u+=k*T,f+=k*A,g+=k*b,S=O,h=0;h<C;h++)S.r=T,S.g=A,S.b=b,S=S.next;for(h=1;h<C;h++)c=p+((t-1<h?t-1:h)<<2),u+=(S.r=T=_[c])*(I=C-h),f+=(S.g=A=_[c+1])*I,g+=(S.b=b=_[c+2])*I,x+=T,w+=A,R+=b,S=S.next;for(L=O,V=F,r=0;r<t;r++)_[p]=u*D>>N,_[p+1]=f*D>>N,_[p+2]=g*D>>N,u-=m,f-=y,g-=v,m-=L.r,y-=L.g,v-=L.b,c=d+((c=r+e+1)<t-1?c:t-1)<<2,x+=L.r=_[c],w+=L.g=_[c+1],R+=L.b=_[c+2],u+=x,f+=w,g+=R,L=L.next,m+=T=V.r,y+=A=V.g,v+=b=V.b,x-=T,w-=A,R-=b,V=V.next,p+=4;d+=t}for(r=0;r<t;r++){for(w=R=x=f=g=u=0,p=r<<2,m=C*(T=_[p]),y=C*(A=_[p+1]),v=C*(b=_[p+2]),u+=k*T,f+=k*A,g+=k*b,S=O,h=0;h<C;h++)S.r=T,S.g=A,S.b=b,S=S.next;for(l=t,h=1;h<C;h++)p=l+r<<2,u+=(S.r=T=_[p])*(I=C-h),f+=(S.g=A=_[p+1])*I,g+=(S.b=b=_[p+2])*I,x+=T,w+=A,R+=b,S=S.next,h<i-1&&(l+=t);for(p=r,L=O,V=F,a=0;a<i;a++)c=p<<2,_[c]=u*D>>N,_[c+1]=f*D>>N,_[c+2]=g*D>>N,u-=m,f-=y,g-=v,m-=L.r,y-=L.g,v-=L.b,c=r+((c=a+C)<i-1?c:i-1)*t<<2,u+=x+=L.r=_[c],f+=w+=L.g=_[c+1],g+=R+=L.b=_[c+2],L=L.next,m+=T=V.r,y+=A=V.g,v+=b=V.b,x-=T,w-=A,R-=b,V=V.next,p+=t}E.putImageData(M,0,0)},o.prototype.update=function(t,i){if(t.gid){if(!this.matrix[t.gmx]||!this.matrix[t.gmx][t.gmy])return null;if(this.matrix[t.gmx][t.gmy].remove(t),i)return null;if(t.gmx=Math.floor(t.x/this.resolution),t.gmy=Math.floor(t.y/this.resolution),!this.matrix[t.gmx]||!this.matrix[t.gmx][t.gmy])return null;this.matrix[t.gmx][t.gmy].add(t);var e=this.collisions(t);if(e&&null!=e.next)return e.next}else{if(t.gid=Math.random().toString(36).substr(2,9),t.gmx=Math.floor(t.x/this.resolution),t.gmy=Math.floor(t.y/this.resolution),!this.matrix[t.gmx]||!this.matrix[t.gmx][t.gmy])return null;this.matrix[t.gmx][t.gmy].add(t)}return null},o.prototype.collisions=function(t){var i=new r(null),e=i;return i=this.addAll(i,t.gmx-1,t.gmy+1),i=this.addAll(i,t.gmx,t.gmy+1),i=this.addAll(i,t.gmx+1,t.gmy+1),e},o.prototype.addAll=function(t,i,e){if(i>0&&e>0&&i<this.xc&&e<this.yc)for(var n=this.matrix[i][e];null!=n.next;)n=n.next,t.next=new r(n.drop),t=t.next;return t},o.prototype.remove=function(t){this.matrix[t.gmx][t.gmy].remove(t)},r.prototype.add=function(t){for(var i=this;null!=i.next;)i=i.next;i.next=new r(t)},r.prototype.remove=function(t){for(var i=this,e=null;null!=i.next;)e=i,i=i.next,i.drop.gid===t.gid&&(e.next=i.next)},t.exports={RainyDay:e}}]);